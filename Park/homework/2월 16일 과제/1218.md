```java
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Problem1218 {

	// 1218. 괄호 짝짓기
	public static void main(String[] args) {

		// Scanner 생성
		Scanner scan = new Scanner(System.in);

		// 10번의 테스트 케이스 반복
		for (int test = 1; test <= 10; test++) {

			// 입력할 문자열의 길이 저장
			int size = scan.nextInt();
			// 문자열 입력
			String str = scan.next();
			// 스택 구조로 활용할 리스트
			List<Character> list = new ArrayList<>();
			// 유효값 저장 변수
			int valid = 1;

			// 입력한 문자열의 길이만큼 반복
			for (int i = 0; i < size; i++) {
				// 개괄호면 일단 리스트에 추가
				if (str.charAt(i) == '{' || str.charAt(i) == '(' || str.charAt(i) == '<' || str.charAt(i) == '[') {
					list.add(str.charAt(i));
				} else {

					// 시작부터 폐괄호인 경우 검증
					if (i == 0) {
						list.add('1');
						break;
					}

					// 소괄호만 1차이, 나머지는 2차이
					if (str.charAt(i) - list.get(list.size() - 1) == 1
							|| str.charAt(i) - list.get(list.size() - 1) == 2) {
						list.remove(list.size() - 1);
					} else {
						break;
					}
				}
			}

			// 반복문이 중간에 종료되거나
			// 정상적으로 종료되었지만 개괄호가 남아있어
			// 리스크의 길이가 0이 아니면 유효한 문자열이 아님
			if (list.size() != 0) {
				valid = 0;
			}

			// 결과 출력
			System.out.println("#" + test + " " + valid);

		}

		// Scanner 종료
		scan.close();

	}

}
```

