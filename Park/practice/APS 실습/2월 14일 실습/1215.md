```java
import java.util.Scanner;

public class Problem1215 {

	// 1215. 회문 1
	public static void main(String[] args) {

		// Scanner 생성
		Scanner scan = new Scanner(System.in);
		// 테스트 케이스 번호
		int testCase = 1;

		// 테스트 케이스 10번 반복
		while (testCase <= 10) {
			// 찾는 회문의 길이
			int length = scan.nextInt();
			// 회문의 개수를 저장할 변수
			int count = 0;
			// 문자열 데이터를 저장할 배열
			String[][] space = new String[8][8];
			// 문자열 데이터를 열방향으로 탐색한 결과를 저장할 배열
			String[][] space2 = new String[8][8];

			// 배열에 데이터 입력
			for (int i = 0; i < 8; i++) {
				String str = scan.next();
				space[i] = str.split("");
			}

			// 열방향 탐색 결과를 배열에 입력
			for (int i = 0; i < 8; i++) {
				for (int j = 0; j < 8; j++) {
					space2[i][j] = space[j][i];
				}
			}

			// 회문의 개수를 찾는 메서드 활용
			count += countPalindrome(space, length);
			count += countPalindrome(space2, length);

			// 결과 출력
			System.out.println("#" + testCase + " " + count);

			// 다음 테스트 케이스 번호
			testCase++;
		}

		// Scanner 종료
		scan.close();

	}

	// 회문의 개수를 찾는 매서드
	public static int countPalindrome(String[][] space, int length) {

		// 회문의 개수를 저장할 변수
		int count = 0;

		// 횡방향으로 탐색하며 회문이면 개수를 추가하는 반복문
		for (int i = 0; i < space[0].length; i++) {
			for (int j = 0; j < space[0].length - length + 1; j++) {
				StringBuilder sb = new StringBuilder();
				int k = 0;
				while (k < length) {
					sb.append(space[i][j + k]);
					k++;
				}

				String str1 = sb.toString(); // 탐색한 문자열
				sb.reverse(); // 탐색한 문자열 뒤집기
				String str2 = sb.toString(); // 뒤집은 문자열

				// 회문의 조건이 맞으면 개수 추가
				if (str1.equals(str2)) {
					count++;
				}

			}
		}

		// 회문의 개수 반환
		return count;
	}

}
```

